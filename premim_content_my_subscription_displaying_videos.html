<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Premium Archive Viewer</title>

  <!-- Tailwind CSS for styling -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      background: radial-gradient(circle at top, #111827, #000);
      color: white;
      font-family: 'Poppins', sans-serif;
    }
    .archive-card {
      background: linear-gradient(135deg, #1f2937, #111827);
      box-shadow: 0 0 20px rgba(99, 102, 241, 0.4);
      border-radius: 1rem;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .archive-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 40px rgba(99, 102, 241, 0.7);
    }
    .archive-video {
      width: 100%;
      height: 220px;
      object-fit: cover;
      background: #0f172a;
    }
    .fade-in {
      animation: fadeIn 1s ease forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body class="p-6">
  <h1 class="text-4xl font-bold mb-6 text-center text-indigo-400 drop-shadow-lg">
    ðŸŽ¬ Premium Archive Viewer
  </h1>

  <div id="archiveContainer" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"></div>

  <script>
    async function loadArchives() {
      try {
        // âœ… Your updated text file name here
        const response = await fetch("premim_content_my_subscription_displaying_videos.txt");
        const text = await response.text();

        const blocks = text.trim().split(/\n\s*\n/);
        const container = document.getElementById("archiveContainer");
        container.innerHTML = "";

        blocks.forEach(block => {
          const data = {};
          block.split("\n").forEach(line => {
            const [key, ...rest] = line.split(":");
            if (key && rest.length) data[key.trim()] = rest.join(":").trim();
          });

          if (data.archive_url) {
            const card = document.createElement("div");
            card.className = "archive-card fade-in";

            card.innerHTML = `
              <video class="archive-video" controls preload="none" poster="https://img.icons8.com/?size=512&id=23292&format=png">
                <source src="${data.archive_url}" type="video/mp4">
                Your browser does not support video playback.
              </video>
              <div class="p-4">
                <h2 class="text-xl font-semibold text-indigo-300 mb-2">${data.title || 'Untitled'}</h2>
                <p class="text-sm text-gray-400 mb-1"><strong>Content ID:</strong> ${data.content_id || 'N/A'}</p>
                <p class="text-sm text-gray-400 mb-1"><strong>Uploaded by:</strong> ${data.username || 'Unknown'}</p>
                <p class="text-gray-300 text-sm mt-2">${data.description || ''}</p>
              </div>
            `;

            container.appendChild(card);
          }
        });
      } catch (err) {
        console.error("Error loading archives:", err);
      }
    }

    loadArchives();
  </script>
</body>
</html>
